<div class="crm-wrapper">

    <!-- TOP HEADER / TOGGLE -->
    <div class="sidebar-top-toggle"
     [class.collapsed]="!menuOpen"
     (click)="toggleMenu()">
    <h6 class="fw-bold text-primary mb-0">
        <ng-container *ngIf="!menuOpen">â˜°</ng-container>
        <ng-container *ngIf="menuOpen">ğŸ  CRM Menu</ng-container>
    </h6>
</div>


    <!-- SIDEBAR -->
    <nav class="crm-sidebar" [class.collapsed]="!menuOpen" [class.open]="menuOpen">


    <div class="sidebar-header d-flex justify-content-between align-items-center"
         (click)="toggleMenu()"
         [class.collapsed]="!menuOpen"
         style="cursor:pointer;">
         
        <h6 class="fw-bold text-primary mb-0">
            <ng-container *ngIf="menuOpen">ğŸ  CRM Menu</ng-container>
            <ng-container *ngIf="!menuOpen">â˜°</ng-container>
        </h6>

        <button class="btn-close d-md-none" aria-label="Close"></button>
    </div>



        <div class="nav-scroll">
            <ul class="nav flex-column gap-1">

                <li class="nav-item">
                    <a routerLink="dashboard" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ“Š <span class="text-label">Dashboard</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="service-tickets" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ› ï¸ <span class="text-label">Service Tickets</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="housing-whatsapp" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ¡ <span class="text-label">Housing Add New Leads</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="acres99-whatsapp" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ§¾ <span class="text-label">99acres Add New Leads</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="add" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        â• <span class="text-label">Add Employee</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="list" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ‘¥ <span class="text-label">List Of Employee</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="lead-management" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ¯ <span class="text-label">Lead Management</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="magicbricks-leads" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ“¥ <span class="text-label">Housing Leads Excel Upload</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="99acres-leads" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ“¤ <span class="text-label">99 Acres Excel Upload</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="property-listing" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ˜ï¸ <span class="text-label">Property Listing</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="client-interaction" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ’¬ <span class="text-label">Client Interaction</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="marketing-outreach" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ“£ <span class="text-label">Marketing & Outreach</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="legal-documentation" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ“‘ <span class="text-label">Legal & Documentation</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="client-support" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ”§ <span class="text-label">Client Support & After Sales</span>
                    </a>
                </li>

                <li class="nav-item" *ngIf="isAdmin()">
                    <a routerLink="admin-internal" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ¢ <span class="text-label">Admin & Internal</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="custom-smart" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ¤– <span class="text-label">Custom / Smart Tasks</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="payments" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ’° <span class="text-label">Payments</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="payments/add" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        â• <span class="text-label">Payments Add</span>
                    </a>
                </li>

                <li class="nav-item" *ngIf="isAdmin()">
                    <a routerLink="finance/revenue" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ“ˆ <span class="text-label">Revenue</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="finance/attendance" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ•’ <span class="text-label">Attendance</span>
                    </a>
                </li>

                <li class="nav-item" *ngIf="isAdmin()">
                    <a routerLink="finance/incentives" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ <span class="text-label">Incentives</span>
                    </a>
                </li>

                <li class="nav-item" *ngIf="isAdmin()">
                    <a routerLink="finance/expenses" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ’³ <span class="text-label">Expenses</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="tasks" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ“‹ <span class="text-label">Task</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="finance/aging" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        â³ <span class="text-label">Aging</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a routerLink="finance/followups" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
                        ğŸ”” <span class="text-label">Followups</span>
                    </a>
                </li>

            </ul>
        </div>
    </nav>

    <!-- Mobile Overlay -->
    <div *ngIf="menuOpen" class="crm-overlay d-md-none" (click)="closeMenu()"></div>

    <!-- Main Content -->
    <main class="crm-content" [class.collapsed]="!menuOpen">
        <router-outlet></router-outlet>
    </main>
</div>
